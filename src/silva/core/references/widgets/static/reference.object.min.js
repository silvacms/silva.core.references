var ReferencedRemoteObject=function(e,t){return function(n,r){var i=n.attr("id"),s=n.find("#"+i+"-base").val(),o=n.find("#"+i+"-interface").val(),u=n.find("#"+i+"-show_container_index").val(),a=n.find("ul.multiple-references");r&&(i+=r);var f=n.find("#"+i+"-value"),l=n.find("#"+i+"-link"),c=n.find("#"+i+"-edit-link");if(!l.length){var h=e("<li />");l=e('<a id="'+i+'-link" />'),c=e('<a id="'+i+'-edit-link" />'),h.append(l),h.append(c),a.append(h)}var p={identifier:i+"-value",data:function(){return f.data("referenced-remote-content")},reference:function(){return f.val()},title:function(){var e=p.data();return e?e.title:"no reference selected"},url:function(){var e=p.data();return e?e.url:""},clear:function(e){e||(e="no reference selected"),c.hide(),c.attr("href","#"),l.text(e),l.bind("click",function(){return!1}),l.attr("href","#"),l.removeAttr("title"),f.length&&(f.val("0"),f.trigger("remote-reference-modified",{}))},fetch:function(t){var n={intid:t};l.text("loading ..."),f.length&&f.val(t),o&&(n["interface"]=o),u&&(n.show_container_index="true"),e.getJSON(s+"/++rest++silva.core.references.items",n,p.render)},render:function(n){if(n.url===undefined){p.fetch(n.intid);return}var r=e('<ins class="icon" />'),i=function(e,t){t?l.attr(e,t):l.removeAttr(e)};l.empty(),l.text(n.title),i("href",n.url),i("title",n.path),l.unbind("click"),n.url&&(c.show(),c.attr("href",n.path)),l.data("content",n),t.ui.icon(r,n.icon),r.prependTo(l),f.length&&(f.val(n.intid),f.trigger("reference-modified",n))},change:function(e){f.bind("reference-modified",e)},show:n.show,hide:n.hide,toggle:n.toggle};return p}}(jQuery,infrae);