(function(e,t,n){t.extend(e.smi.reference.plugins,{AddMenu:function(e,n){var r=e.find(".content-actions"),i=r.find("a"),s=r.find("select"),o=s.html(),u=null,a=function(){var e=s.val();return e&&u&&n.add(u,e),!1};i.bind("click",a),s.bind("change",a),n.onchange.add(function(e){var i={url:e+"/++rest++silva.core.references.adding",dataType:"json"};n.configuration.iface!==undefined&&(i.data={"interface":n.configuration.iface}),t.ajax(i).done(function(t){var n=[o];r.toggle(t.length!==0);for(var i=0,a=t.length;i<a;i++)n.push('<option value="'+t[i]+'">'+t[i]+"</option>");u=e,s.html(n.join(""))})})}})})(infrae,jQuery,jsontemplate);