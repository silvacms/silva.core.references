<div class="reference-widget" id="#"
     tal:attributes="id view/id"
     i18n:domain="silva">
  <div style="display:none" id="#" title="#" class="ui-widget reference-dialog"
       tal:attributes="id string:${view/id}-dialog;
                       title view/title">
    <div class="content-list-actions">
      <div class="content-list-action content-list-action-refresh">
        <button name="refresh"
                title="Refresh content listing"
                i18n:attributes="title"
                i18n:translate="">
          refresh
        </button>
      </div>
      <div class="content-list-action content-list-action-add">
        <select disabled="disabled">
          <option value="" i18n:translate="">select:</option>
        </select>
        <button name="add"
                title="Add a new content in Silva to refer it"
                i18n:attributes="title"
                i18n:translate="">
          add
        </button>
      </div>
    </div>
    <div class="path-list"></div>
    <table class="content-list source-list">
    </table>
    <table class="content-list selection-list" style="display:none">
    </table>
  </div>
  <tal:if condition="not:view/multiple">
    <a href="#" id="#" target="_blank" class="reference-dialog-content"
       tal:attributes="id string:${view/id}-link;
                       href view/value_url">
      <img tal:condition="view/value_icon"
           tal:replace="structure view/value_icon" />
      <span tal:replace="view/value_title" />
    </a>
    <a class="reference-dialog-edit-link" target="_blank" id="#"
       title="Edit content"
       tal:attributes="id string:${view/id}-edit-link;
                       style python:view.value_url and '' or 'display: none'"
       i18n:attributes="title">
    </a>
  </tal:if>
  <tal:if condition="view/multiple">
    <ul class="reference-links">
      <tal:repeat repeat="item view/values_info">
      <li>
        <a href="#" id="#" target="_blank"
           tal:attributes="id string:${view/id}${item/suffix}-link;
                           href item/value_url">
          <img tal:condition="item/value_icon"
               tal:replace="structure item/value_icon" />
          <span tal:replace="item/value_title" />
        </a>
      </li>
      </tal:repeat>
    </ul>
  </tal:if>
  <br clear="both" />
  <a class="form-button reference-dialog-trigger ui-state-default"
     title="Lookup a content in Silva"
     i18n:attributes="title"
     i18n:translate="">
    <ins class="ui-icon ui-icon-search"
         i18n:name="icon"></ins>
    Lookup
  </a>
  <br clear="both" />
  <input type="hidden" value="#" id="#" name=""
         tal:attributes="id string:${view/id}-value;
                         name view/name;
                         value view/value;
                         class python:view.multiple and 'multiple' or None" />
  <input type="hidden" value="#" id="#"
         tal:condition="view/interface"
         tal:attributes="id string:${view/id}-interface;
                         value view/interface" />
  <tal:if condition="not:view/multiple">
    <input type="hidden" value="#" id="#" name="#"
           tal:condition="view/reference"
           tal:attributes="id string:${view/id}-reference;
                           name string:${view/name}_reference;
                           value view/reference" />
  </tal:if>
  <tal:if condition="view/multiple">
    <tal:repeat repeat="item view/values_info">
      <input type="hidden" value="#" id="#" name="#"
             tal:condition="item/reference"
             tal:attributes="id string:${view/id}${item/suffix}-reference;
                             name string:${view/name}_reference;
                             value item/reference" />
    </tal:repeat>
  </tal:if>
  <input type="hidden" value="#" id="#"
         tal:attributes="id string:${view/id}-base;
                         value view/context_lookup_url" />
  <br clear="both" />
</div>
