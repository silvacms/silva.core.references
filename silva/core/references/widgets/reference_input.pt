<div class="reference-widget" id="#"
     tal:attributes="id view/id">
  <script type="text/javascript">
    $(document).ready(function() {
      $('.reference-dialog').dialog({
        autoOpen: false,
        modal: true,
        buttons: {
          'Cancel': function() {
             $(this).dialog('close');
          }
        },
        open: function() {
           alert('hallo');
        }
      });
      $('.reference-dialog-trigger').click(function() {
         var widget = $(this).parent('.reference-widget');
         $('#' + widget.attr('id') + '-dialog').dialog('open');
         return false;
      });
    });
  </script>
  <div id="#" title="#" class="ui-widget reference-dialog"
       tal:attributes="id string:${view/id}-dialog;
                       title view/title">
    Hello world!
  </div>
  <button class="button reference-dialog-trigger">
      Change
  </button>
</div>
